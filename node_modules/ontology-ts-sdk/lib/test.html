<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="./browser.js"></script>
    <script src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"></script>
</head>
<body>
    <script>

// 96fd12c09f5e3eb4ae363250177234590f18de9e 是合约的地址
// 93823381787bc54eb050312c5c7140dbe686332b token oep4地址
const contractAddr = new Ont.Crypto.Address(Ont.utils.reverseHex('93823381787bc54eb050312c5c7140dbe686332b'));
// 实例化数据
let oep4 = new Ont.Oep4.Oep4TxBuilder(contractAddr);
// debugger;
const tx = oep4.queryBalanceOf(new Ont.Crypto.Address('AMdgCGsvRDdbvsUFUoREAcYnNoaqTTUav8'));
console.log(tx)

        function getRegisterOntidTx(ontid, publicKey, payer) {
            const tx = Ont.Ont
        }
// Ont.SDK.transferOep4('e814f496c5eb9 4b769210be13d319b6177c0c9ac','AKhXYFmCqnEpwt3KVVRx2toXLzuBuuQAF7','AKhXYFmCqnEpwt3KVVRx2toXLzuBuuQAF7','100000000','EbqyAiN4W6siLpRlvhT5uigHs2HAvGkgfX4dW3HyjSKeSqvSgjKFJshBPcBlhx5Y','MTExMTExMTE=','xgqbDbUjjECGIGNbHCct6A==','500','20000','transferOep4')
    // registerDID()

         /*  let ontid = 'did:ont:' + new Ont.Crypto.Address('AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p').toBase58();
            console.log('did: ', ontid);
            const rest = new Ont.RestClient()

            let tx = Ont.OntidContract.buildGetDDOTx(ontid);
            console.log('tx: ', tx);

            let ser = tx.serialize();
            rest.sendRawTransaction(ser, true).then(result =>{
                if (result.Result && result.Result.Result) {
                    const ddo = DDO.deserialize(result.Result.Result);
                    return ddo;
                } else {
                    throw new Error('Not found');
                }
            }) */
            // console.log('result: ', result);

            

//  Ont.SDK.setServerNode('127.0.0.1');
//  Ont.SDK.setRestPort('20334');
// 1. query balance
/*
queryOep8Balance(
        contractHash: string,
        account: string,
        tokenId: number,
        callback?: string
    )
*/

/*
const data = {
         "callback_addr": "https://api.acgn.io/callback/ontpass/responses",
        "description": "ACGN authentication application",
        "name": "ACGN heljrlewjrlewjrlj;erw",
        "ontid": "did:ont:AWeLrWSTt61tsZdzvKfZa3j5Mj7CuetR6w",
        "ta_info": [{
            "claim_contexts": ["claim:sfp_dl_authentication", "claim:sfp_idcard_authentication", "claim:sfp_passport_authentication"],
            "ontid": "did:ont:ANNmeSiQJVwq3z6KvKo3SSKGnoBqvwYcwt"
        }]
    }

const content = JSON.stringify(data);
console.log('content: ' + content);
var encrypted = new Ont.Crypto.PrivateKey("OMXQHj3ZItI7Ku44GiOmFyuVY5yxMNFym1oxo/d8YZLUN+acg/vRyL3x1Spqrzxi");
var salt = "3kEAxK2vbtj7tFRiU0G1Nw=="
var ontid = "did:ont:AWeLrWSTt61tsZdzvKfZa3j5Mj7CuetR6w"
var address = new Ont.Crypto.Address(ontid.substr(8))
var password = "111111"
var params = {
    cost: 4096,
    blockSize: 8,
    parallel: 8,
    size: 64
}
var pri 
try {
    pri = encrypted.decrypt(password, address, salt, params);
} catch(err) {
    console.log(err)
}

var msg = Ont.utils.str2hexstr(content);
var signature = pri.sign(msg);
var sigVal = signature.serializePgp().Value;

data.signature = sigVal;
// const body = {
//     OrigData: content,
//     Signature: sigVal
// }
console.log(data);
const url = 'http://192.168.3.45:9999/api/v1/ontpass/authrequesters'
axios.post(url, data).then(res => {
    console.log(res.data);
} ) */

// const claimString = "eyJraWQiOiJkaWQ6b250OkFScjZBcEsyNEVVN251Zk5ENHMxU1dwd1VMSEJlcnRwSmIja2V5cy0xIiwidHlwIjoiSldULVgiLCJhbGciOiJPTlQtRVMyNTYifQ==.eyJjbG0tcmV2Ijp7InR5cCI6IkF0dGVzdENvbnRyYWN0IiwiYWRkciI6IjM2YmI1YzA1M2I2YjgzOWM4ZjZiOTIzZmU4NTJmOTEyMzliOWZjY2MifSwic3ViIjoiZGlkOm9udDpBUGJmVXc2N1dyenlzMTFNMThZanpHdHloMVNLbkY1Mk5oIiwidmVyIjoidjEuMCIsImNsbSI6eyJOYXRpb25hbGl0eSI6IkNOIiwiTmFtZSI6IlFpYW5nWmhvdSIsIkJpcnRoRGF5IjoiMTk5My0wMi0yOCIsIklzc3VlRGF0ZSI6IjIwMTUtMDctMTQiLCJFeHBpcmF0aW9uRGF0ZSI6IjIwMjUtMDctMTMiLCJJRERvY051bWJlciI6IkU1MzkwNTE3NyIsIklzc3Vlck5hbWUiOiJTaHVmdGlwcm8ifSwiaXNzIjoiZGlkOm9udDpBUnI2QXBLMjRFVTdudWZORDRzMVNXcHdVTEhCZXJ0cEpiIiwiZXhwIjoxNTczMjcwMzAxLCJpYXQiOjE1NDE3MzQzMDIsIkBjb250ZXh0IjoiY2xhaW06c2ZwX3Bhc3Nwb3J0X2F1dGhlbnRpY2F0aW9uIiwianRpIjoiMmExNzI3ODRmOGExZTg1NTg4YTJmYjdmOWFmYWJiNTIwNjE0MjQwMGJiNzkwYWFlMzJkODM1ZDRiMWZkYTYzZCJ9.Ad+HEsPTnzaCjQjSL5CipMWWbd9QQj+mAtqcv+2cQ5cYpbD/hCDu3qA3h5McjJRfHvY3yDN2TaNkTNaMyKrS7nY=\\.eyJQcm9vZiI6eyJUeXBlIjoiTWVya2xlUHJvb2YiLCJNZXJrbGVSb290IjoiYTAyZDUzZDFhODk4MTVkZDk1NTgzOTY4ZWMxZmQwZDk1NzM0N2VlZWZiOTNhMDYzZDMzZjZhZTU4MjQ2YzBhZiIsIlR4bkhhc2giOiJmODMyZjdiM2I0NzkzMmNiZGNmODFmMzUzM2JkMmFiYjQ4ZjU0MjgxNDVhNWM2ZWE4OWUxMzU3ODRjYmIyMDViIiwiQmxvY2tIZWlnaHQiOjQwMzk2NCwiTm9kZXMiOlt7IlRhcmdldEhhc2giOiJlMTQxNzJjOGE2ZTE5Mzk0MzQ2NTY0OGUxYzU4NmE5MTg2YTM3ODRlZTdlZTI5ZGI5ZWRiZjZhZmUwNGY1MzkwIiwiRGlyZWN0aW9uIjoiTGVmdCJ9LHsiVGFyZ2V0SGFzaCI6ImY0NDA1MzE5OTljNTQ3ZGIwOGY1MTY2NzdjMTUyMjE1NDc1YTY5ZGNjYjgyMTc2ZTRiY2ExYjcyNjI2MWExYmUiLCJEaXJlY3Rpb24iOiJMZWZ0In0seyJUYXJnZXRIYXNoIjoiZWY0ZDNjMGRlYmI2NmJiMTVhZjhiODJlMWI5NDYzZDMwMzlmNmE5NWJmOTFjMzQ5ZTdkZjFiMzRlZjVmNzYzMCIsIkRpcmVjdGlvbiI6IkxlZnQifSx7IlRhcmdldEhhc2giOiIyZGZjYjAxMWM3ZmFjMDRhOTU0MDNiN2JkNzljODVkMjQyNzExOWY0ZTEwM2MyYjJkNDI4YmE3YmUxYzZjYWQ0IiwiRGlyZWN0aW9uIjoiTGVmdCJ9LHsiVGFyZ2V0SGFzaCI6IjE3MTAwYzA5ZWYyZDE5Njg5Yzg1Y2M3MDM4YjY2NTQwMzcwNDVmYzgzYjM5NTE0Mzk2MzRlNWQyMDc0OTk4YzYiLCJEaXJlY3Rpb24iOiJMZWZ0In0seyJUYXJnZXRIYXNoIjoiZWIzN2ExOWU3MmMyYjMxOGJmNTI5ZjhjMzJkZGJlMmMzMGQ5NThlOTc1YzE3NDUzMzQyNTNhY2Q1ODJiYjExMyIsIkRpcmVjdGlvbiI6IkxlZnQifSx7IlRhcmdldEhhc2giOiJkODk3ZTNmNGQ4ZjU2OWU4MGM1MzJhOTViMjQ3YmU3YmM3Y2E2ODlmZDBkMzcxYjQ5MGI0ZjQ2ZDU0MDA5MzU5IiwiRGlyZWN0aW9uIjoiTGVmdCJ9LHsiVGFyZ2V0SGFzaCI6ImYwNmQxYzY2YThiNjBjMDIwNjY5YWM3YTg0ZWYxODk4ODg2NDI0OWNkMWVmOGQ4NDAyMDA0NDQwMDA2ODg0MWYiLCJEaXJlY3Rpb24iOiJMZWZ0In0seyJUYXJnZXRIYXNoIjoiYmRlODliOTJmOGI2YWU0ZWQyYTc1OWNjMzIwYTFhYjAxZDI2YTMwMzUxZmMwOWQzZGM5YjBhZDFhYzJmZDBiMCIsIkRpcmVjdGlvbiI6IkxlZnQifSx7IlRhcmdldEhhc2giOiI5ODY1MWYwNzJlNjAxYjM1NjJjY2MxNDlmNzg5ZmZlMzlkNzlhYTRmZTVhYTFiMWJmNTYwYjkxZDA3NzQ5YjFjIiwiRGlyZWN0aW9uIjoiTGVmdCJ9LHsiVGFyZ2V0SGFzaCI6ImY0NzJjODM4ZmJjZjJiNmNmNjY5MDU4ZDRjZjcyMTQ4ODE2NWY5NmJhMjMwZjZmMjljNWE2YzAxYjZjM2IxMmUiLCJEaXJlY3Rpb24iOiJMZWZ0In1dLCJDb250cmFjdEFkZHIiOiIzNmJiNWMwNTNiNmI4MzljOGY2YjkyM2ZlODUyZjkxMjM5YjlmY2NjIn19";
// const claim = Ont.Claim.deserialize(claimString);

function transfer(to, dragonId) {
    const id = Ont.utils.num2hexstring(dragonId, 2 , false)
    const contract = '609cd49a9b15009ff2f3a1998f87b8212b8f6afb';
    const contractAddr = new Ont.Crypto.Address(Ont.utils.reverseHex(contract));
    const toAddress = new Ont.Crypto.Address(to);
    // const method = 'transfer';
    // const parameters = [
    //     new Ont.Parameter('to', Ont.ParameterType.ByteArray, toAddress.serialize()),
    //     new Ont.Parameter('dragonId', Ont.ParameterType.ByteArray, id)
    // ];
    // const tx = Ont.TransactionBuilder.makeInvokeTransaction(method, parameters, contractAddr, '500', '20000');
    // const pri = new Ont.Crypto.PrivateKey('00af0ff097ca309f39af738fc3e5ef141b6b1c5598ba441cc67e65d9ed1685b5');
    // Ont.TransactionBuilder.signTransaction(tx, pri);

    const paramList = [];
    paramList.push(Ont.utils.str2hexstr('transfer'));
    const args = [];
    args.push(toAddress.serialize());
    args.push(id);
    paramList.push(args);
    const params = Ont.ScriptBuilder.createCodeParamsScript(paramList);
    const tx = Ont.TransactionBuilder.makeInvokeTransaction('', params, contractAddr, '500', '20000');
    alert(tx.serialize())
}

/*
    const private1 = new Ont.Crypto.PrivateKey('5f2fe68215476abb9852cfa7da31ef00aa1468782d5ca809da5c4e1390b8ee45');
const private2 = new Ont.Crypto.PrivateKey('49855b16636e70f100cc5f4f42bc20a6535d7414fb8845e7310f8dd065a97221');

const address1 = new Ont.Crypto.Address('AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p');
const address2 = new Ont.Crypto.Address('AXK2KtCfcJnSMyRzSwTuwTKgNrtx5aXfFX');

    //make tx
const tx = Ont.OntAssetTxBuilder.makeTransferTx('ONT', address1, address2, 1, '500', '20000', address1);
    Ont.TransactionBuilder.signTransaction(tx, private2);
    const txStr = tx.serialize();
    //deserialize tx
    const txObj = Ont.Transaction.deserialize(txStr);
    console.log(txObj.sigs);
    for (const sig of txObj.sigs) {
        if (sig.pubKeys.length !== sig.sigData.length) {
            // alert('Invalid signatures')
            return;
        }
        for (let i = 0; i < sig.pubKeys.length; i++) {
            if (sig.pubKeys[i].verify(tx, Ont.Crypto.Signature.deserializeHex(sig.sigData[i]))) {
                // alert('Verify signature failed');
                return;
            }
        }
    }
    //add sig
    Ont.TransactionBuilder.addSign(tx, private1);

    //send tx
    const socketClient = new Ont.WebsocketClient();
    socketClient.sendRawTransaction(tx.serialize(), false, true).then(res =>{
        console.log(res);
    });

    */

// transfer('AaEtVFPZgwZ44E41fTKmu5UKCFzU2EyvLv', 502)

// console.log(claim);    
// const aa = claim.split("\\.");
    // console.log('length: ' + aa.length);
    // const head = new const(Base64.getDecoder().decode(aa[0]));
    // const payload = new const(Base64.getDecoder().decode(aa[1]));
    // const signature = aa[2];
    // const merkleproof = new String(Base64.getDecoder().decode(aa[3]));
    // System.out.println("head:" + head);
    // System.out.println("payload:" + payload);
    // System.out.println("signature:" + signature);
    // System.out.println("merkleproof:" + merkleproof);

// Ont.SDK.queryOep8Balance('a2054b2d84a87190ea3a96e122e0710e95da36f3', 'AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p', 1, 'oep8Balance');

// 2. query balance of each token
/*
queryOep8Balances(
        contractHash: string,
        account: string,
        callback?: string
    ) 
*/
// Ont.SDK.queryOep8Balances('a2054b2d84a87190ea3a96e122e0710e95da36f3', 'AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p',  'oep8Balances');

// 3. query total balance
/*
queryOep8TotalBalance(
        contractHash: string,
        account: string,
        callback?: string
    )
*/
// Ont.SDK.queryOep8TotalBalance('a2054b2d84a87190ea3a96e122e0710e95da36f3', 'AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p', 'oep8TotalBalance');

// 4. transfer oep8
/*
transferOep8(
        contractHash: string,
        from: string,
        to: string,
        value: string,
        tokenId: number,
        encryptedPrivateKey: string,
        password: string,
        salt: string,
        gasPrice: string,
        gasLimit: string,
        payer: string,
        callback?: string
    )
*/
// Ont.SDK.transferOep8(
//     'a2054b2d84a87190ea3a96e122e0710e95da36f3', 
//     'AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p', 
//     'AXK2KtCfcJnSMyRzSwTuwTKgNrtx5aXfFX',
//     '100',
//     1,
//     'your enencryptedPrivateKeycrypted',
//     'your password',
//     'your salt',
//     '500',
//     '20000',
//     'AQf4Mzu1YJrhz9f3aRkkwSm9n3qhXGSh4p',
//     'callback name')


// 5. compound
/*
compoundOep8(
        contractHash: string,
        account: string,
        compoundNum: number, //0 代表全部合成；1- 代表合成一个；n代表合成n个
        encryptedPrivateKey: string,
        password: string,
        salt: string,
        gasPrice: string,
        gasLimit: string,
        payer: string,
        callback: string
    )
*/

    // Ont.SDK.compoundOep8('b2ae73193b07043e75de65edd4ad74b0fa6148b3', 'AazEvfQPcQ2GEFFPLF1ZLwQ7K5jDn81hve', '1', 'nj1fQmoAFuNUoSwI2El0LfLWRDUsO0yAsUf1i6OGsNeVLl+mNlsGiF6vLwrIfE6X', 'MTExMTExMTE=', 'ji06++2LLfuzJre4ZR5Vog==', '500', '80000', 'AazEvfQPcQ2GEFFPLF1ZLwQ7K5jDn81hve', 'compoundOep8')



        // Ont.SDK.getNeoBalance('AazEvfQPcQ2GEFFPLF1ZLwQ7K5jDn81hve', 'getNeoBalance')；
        // var account = Ont.SDK.createAccount('test0804', '123456');
        // console.log(account.result);
        // Ont.SDK.getNeoBalance('AMwVYdwAg2dR8ktPvaazvWDSMHdTUQfRx5')
        // Ont.SDK.neoTransfer(
        //         'AMwVYdwAg2dR8ktPvaazvWDSMHdTUQfRx5',
        //         'AFmseVrdL9f9oyCzZefL9tG6UbvhPbdYzM',
        //         '1',
        //         'zJjnBNek2l0Nh/4vcQIwDdJBZPMNzUpr93/yx+9726fwU7bLcd8v4VUrf5tiEPZ9',
        //         '123456',
        //         'mrkO7Q0JkGMswHtcSSw/eA==')
    // Ont.SDK.createWallet('W', '111111', 'Adj7W5Z2hTeKH7YwJsfMzLuwiD671mvJ6X', '500', '20000', 'getWalletDataStr')
//  Ont.SDK.getNeoBalance('APySC7z1FLbSSntj4fRSfZfKVrjyoC2JDE', 'getNeoBalance')
// Ont.SDK.importAccountWithWallet('噢噢的','hfpv0hbPfiVayzukT/tn0CzMXPrRp4/sLcu081Vmq0i9ggOQueYZoVbEVg5xmgSw','ATLnPWEK4g4PFun8cnBdpn8EqyJUkvdCWm','mE8YSJVz45haBvhhWRpGyg==','llllllll','importAccountWithWallet')
    // Ont.SDK.neoTransfer('AKhXYFmCqnEpwt3KVVRx2toXLzuBuuQAF7', 'AFmseVrdL9f9oyCzZefL9tG6UbvhPbdYzM', '1', 'EbqyAiN4W6siLpRlvhT5uigHs2HAvGkgfX4dW3HyjSKeSqvSgjKFJshBPcBlhx5Y', 'MTExMTExMTE=', 'xgqbDbUjjECGIGNbHCct6A==', 'neoTransfer')                
        // Ont.SDK.transferAssets('ONT', 'AN6XUNnXgZQrKv4zqBE87s89LbhkVenx1N', 'AN6XUNnXgZQrKv4zqBE87s89LbhkVenx1N', 'iGYF+uai902F7FH+pVeVmfqcoPT2A3igaYhNYGLa8scFu+UjyLuvZ2PtOFCUqyM4', 'MTExMTExMTE=', '/z5Qin9YWsVgkLLqkleq1g==', '500', '20000', 'AbG3ZgFrMK6fqwXWR1WkQ1d1EYVunCwknu', 'AN6XUNnXgZQrKv4zqBE87s89LbhkVenx1N', 'sendTransferAssets')
//  Ont.SDK.setServerNode('139.219.111.50')
// Ont.SDK.setSocketPort('20335')
// Ont.SDK.setRestPort('20334')
    //    var result = Ont.SDK.createWallet('wang1','123456', 'AWc6N2Yawk12Jt14F7sjGGos4nFc8UztVe', '500','30000', 'callback')  
//  Ont.SDK.signMultiAddrTransaction('iGYF+uai902F7FH+pVeVmfqcoPT2A3igaYhNYGLa8scFu+UjyLuvZ2PtOFCUqyM4','AN6XUNnXgZQrKv4zqBE87s89LbhkVenx1N','/z5Qin9YWsVgkLLqkleq1g==','MTExMTExMTE=','["03bfb7c346dfb5d21fede8322cc6d90473b52eeedfd9fdd823d8f9aaf1d75d5819","02517d73896dffc8fe34d375e929574851bc8498148818875e589207c431235c79","03bcb6fcd72147737c22bc991c7c1cf8b1a5edc4796ba1171b7ebaebd65d09932c"]','2','00d129db0a85f401000000000000204e000000000000459f6f2de16786c5dd5c9a557798e21f629671287900c66b14459f6f2de16786c5dd5c9a557798e21f629671286a7cc8144557d130071f269b99b6c0032ec712c0eb874e4d6a7cc8084d010000000000006a7cc86c51c1087472616e736665721400000000000000000000000000000000000000010068164f6e746f6c6f67792e4e61746976652e496e766f6b650000','signMultiAddrTransaction')
// Ont.SDK.getBalance('Ae67o5x6TUau9ctxSFAvicMEwEvLe6P93S','getBalance')
// Ont.SDK.createSharedWallet('2','[ "02d5635171926b04878b339d26f2ad0d7384c4714d5e5ca298a92868bd8d1c8877", "02cd6c58beaf11ad42467a062594842aed58e3249c39943732e9c16fbfa0ff14bf"]','createSharedWallet')
    // var account = Ont.SDK.importAccountWithWif('', 'Kzm6r7cehivkkdmvF9ApFA4vq1JZHkRNB5QXL4RzzﬁS6tGSuUKx', '123456', 'callback');
//     var password = '123456';
//     var account = Ont.SDK.createAccount('333', password, 'getAssetAccountDataStr');
//     console.log(account.mnemonicEnc);
//     const acc = JSON.parse(account.result);
//     const mneEnc = account.mnemonicEnc;
//     const decMne = Ont.SDK.decryptMnemonicEnc(mneEnc, acc.address, acc.salt, password)
// // label: string, mnemonic: string, password: string,
//     var importAcc =  Ont.SDK.importAccountMnemonic('333', decMne.result, password);
//     console.log(importAcc);
    // const keystore = { "type": "A", "label": "巴德", "algorithm": "ECDSA", "scrypt": { "n": 4096, "p": 8, "r": 8, "dkLen": 64 }, "key": "dRiHlKa16kKGuWEYWhXUxvHcPlLiJcorAN3ocZ9fQ8p832p4OdIIiy+kR6eImjYd", "salt": "sJwpxe1zDsBt9hI2iA2zKQ==", "address": "AakBoSAJapitE4sMPmW7bs8tfT4YqPeZEU", "parameters": { "curve": "secp256r1" } }
    // Ont.SDK.importAccountWithWallet('', keystore.key, keystore.address, keystore.salt, '11111111','callback')

    // const pks = ['020ca73018720f16c822c17772914c9c377543484ee4a1322e4a122ee2740969e4', 
    //             '027a874343dc5cdb5d5153e4f08999f0a253ed10d2dbdf0f0265925b675d668203',
    //             '023101d306da4d509bab6718b9b0472d15b3c69d16dc3a0d81a10c9fc6943623c3']
    // const multiAddr = Ont.SDK.createSharedWallet('2', JSON.stringify(pks), 'callback');
    // console.log(multiAddr)

    // const tx = Ont.SDK.makeMultiSignTransaction('ONT', 'AV5Y4kyEwddxjfiS2M4TWKsC52S5evi4EP', 'AMQaRvC5w85zTJajiuXWQExjKp14yDu1TM',
    //  '100', '500', '20000', 'callback');
    //  console.log(tx);
    // const signed = Ont.SDK.signMultiAddrTransaction(
    //         "s0asQoVAS80+0z4B7EdGOls6XPbAZ7kKMnFOfhE51t+FZOzfyMONh2OMnWAkbrBt",
    //         'AWsTwp5Wf3Rq2rzuuNS9aEewzn5pYzYCZx',
    //         "GUI8qCKzCNyMhxinQ9khCg==",
    //         '123456',
    //         JSON.stringify(pks),
    //         '2',
    //         tx.txData,
    //         'callback') 
    //     console.log(signed);


//  Ont.SDK.getNeoBalance('ASQ7HY3hBbd4Dp8cQmzVwERaq97wVojqB5', 'getNeoBalance')
// Ont.SDK.neoTransfer('AQ3UFeUJbCvTBpAat2Yq7wWRKk8PPS7chw', 'AFmseVrdL9f9oyCzZefL9tG6UbvhPbdYzM', '3', key,password,salt, 'callback')
    // const account = Ont.SDK.importAccountWithPrivateKey('6717c0df45159d5b5ef383521e5d8ed8857a02cdbbfdefeeeb624f9418b0895e', '11111111').result;
    // console.log(account);
    // Ont.SDK.exportAccountToQrcode(account, '11111111','callback')
    // const account = Ont.SDK.createAccount('', '123456', 'callback');
    // console.log(account)
    // const keystore = {
    //         "address": "AWsTwp5Wf3Rq2rzuuNS9aEewzn5pYzYCZx",
    //         "label": "e7378b51",
    //         "lock": false,
    //         "algorithm": "ECDSA",
    //         "parameters": {
    //             "curve": "secp256r1"
    //         },
    //         "key": "s0asQoVAS80+0z4B7EdGOls6XPbAZ7kKMnFOfhE51t+FZOzfyMONh2OMnWAkbrBt",
    //         "enc-alg": "aes-256-gcm",
    //         "salt": "GUI8qCKzCNyMhxinQ9khCg==",
    //         "signatureScheme": "ECDSAwithSHA256",
    //         "isDefault": false,
    //         "publicKey": "03b0ac980c3c80ec986ccee120a8995e493d38dc60efcad69de6bc373f13493807"
    //     }
    // Ont.SDK.exportAccountToQrcode(JSON.stringify(keystore), 'callback')
    // Ont.SDK.importAccountWithWallet('', keystore.key, keystore.address, keystore.salt, '123456','callback')
    
    // Ont.SDK.signData('did:ont:AJ5rFq5b7bt93AT4QtzqCxYFLuGuNB4C7j', 'xM0mUmKDWObo0ZnVFCDbdZcyqz6sNeJ3FARQnmbKblaEWBKKve1WtrIjq2LbqXKZ', '111111', 'AJ5rFq5b7bt93AT4QtzqCxYFLuGuNB4C7j', 'xyuqqU6+pzerUYKjC4YdCw==', 'newsignDataStr')    // Ont.SDK.importIdentityAndCreateWallet('哈哈哈', 'xM0mUmKDWObo0ZnVFCDbdZcyqz6sNeJ3FARQnmbKblaEWBKKve1WtrIjq2LbqXKZ', '111111', 'AJ5rFq5b7bt93AT4QtzqCxYFLuGuNB4C7j', 'xyuqqU6+pzerUYKjC4YdCw==', 'importIdentityWithWallet')
//  Ont.SDK.importIdentityWithWallet('刘锐','WeTzNfRVmd5uKaT21N/4eELkWopdV/YJHzHfCNGQ2637J/MbUT9Mh3WotqrK++yZ','111111','AWjMn6GyBWrsX4vJaXLeueKgJVNpitr9wx','s5V+dBJeHebyG6VAyY7DIg==','importIdentityWithWallet')
    // Ont.SDK.exportIdentityToQrcode('{"ontid" : "did:ont:ATpDLZzRL2673mtkgDyNhY5GRkMpPEn8kv","label" : "测试","lock" : false,"controls" : [{"address": "ATpDLZzRL2673mtkgDyNhY5GRkMpPEn8kv","id": "1","key": "pXFTtvY0flh3GV7KiQ5T3DGkfxzgRKEs8r9qn3b73eVFj35+7Vf6Jv8JW11be\/fV","salt": "fdpk+TWenqITl1fwMHZEFQ==","algorithm": "ECDSA","parameters": {"curve": "secp256r1"}}]}','exportIdentityToQrcode')
// Ont.SDK.importIdentityWithWallet('{"name":"123123","defaultOntid":"did:ont:TU67avvcWxSoNb6s9oxJDGXDV8rZhzUbu3","defaultAccountAddress":"","createTime":"2018-04-16T09:04:17.329Z","version":"1.0","scrypt":{"n":4096,"r":8,"p":8},"identities":[{"controls":[{"algorithm":"ECDSA","parameters":{"curve":"secp256r1"},"id":"1","key":"6PYSSW8ordv79Vp3TdHiDyTFkn7TMARadJvKKsvE6QsJjDaDS8nL9nRRF3"}],"ontid":"did:ont:TU67avvcWxSoNb6s9oxJDGXDV8rZhzUbu3","label":"123123","lock":false}],"accounts":[],"extra":null}', '123123', '6PYSSW8ordv79Vp3TdHiDyTFkn7TMARadJvKKsvE6QsJjDaDS8nL9nRRF3', '123123', 'EnterPasswordActivity')    // var identity = Ont.SDK.createIdentity('name', '123456', 'callback')
// Ont.SDK.getClaim('121100115516832d78307d0ebaed55332b88e163d671a30e18df9f97cfe21221', 'claim:employment_authentication', 'did:ont:TWsN8G8AphJxzgWYwHqvYqgntBf5DzBvEX', 'did:ont:TU67avvcWxSoNb6s9oxJDGXDV8rZhzUbu3', '6PYSSW8ordv79Vp3TdHiDyTFkn7TMARadJvKKsvE6QsJjDaDS8nL9nRRF3', '123123', 'TAG CLAIM')

    // var identity = new Ont.Identity();
    // var privateKey = Ont.core.generatePrivateKeyStr();
    // identity.create(privateKey, 'test');
    // var tx = Ont.OntidContract.buildRegisterOntidTx(identity.ontid, privateKey);
    // var param = Ont.TransactionBuilder.buildTxParam(tx);

    // const callback = function (res, socket) {
    //     console.log(res);
    //     if (res.Action === 'Notify' && res.Result == 0) {
    //         socket.close()
    //     }
    // };

    // const socket = new WebSocket('ws://139.219.111.50:20335');
    // socket.onopen = function () {
    //     socket.send(param)
    // };

    // socket.onmessage = function (event) {
    //     let res;
    //     if (typeof event.data === 'string') {
    //         res = JSON.parse(event.data)
    //     } else {
    //         res = event.data
    //     }
    //     callback(res, socket)
    // };

//  Ont.SDK.createIdentity('123', '123123', 'Add_Identity')

    // Ont.SDK.getClaim('1e6100fc5516832d78307d0ebaed55332b88e163d671a30e18df9f97cfe01333', 'claim:employment_authentication', 
    // 'did:ont:TWsN8G8AphJxzgWYwHqvYqgntBf5DzBvEX', 'did:ont:TEDYQKqhjKddMt4vo9rK917HPM9DjZKahs', '6PYKp9Y6Pg72o7oVZFbMnuUH2k5c9NMq23KvzyyvRvL9FXHHnT7bnyoLSZ', '123123', 'TAG CLAIM')

//  Ont.SDK.getClaim('1e6100fc5516832d78307d0ebaed55332b88e163d671a30e18df9f97cfe01112', 'claim:employment_authentication',
// 'did:ont:TWsN8G8AphJxzgWYwHqvYqgntBf5DzBvEX', 'did:ont:TKMbdRhyMqFXRgE3e353xLXoMMghKhCxUY', '6PYSHNVxkEQBibtHz9d8R5S4g2j4ispjevTCsnuR4937821Cc9E24WBF8B',
// '888888', 'TAG CLAIM')

// Ont.SDK.importIdentityWithWallet('{ "defaultOntid" : "did:ont:TKb1wU16m7EHoLNVsUCSheSJvfuvd3BdWF", "defaultAccountAddress": "", "scrypt" : { "n" : 4096, "r" : 8, "p" : 8 }, "accounts" : [ ], "extra" : null, "identities" : [ { "ontid" : "did:ont:TKb1wU16m7EHoLNVsUCSheSJvfuvd3BdWF","label" : "哦哦哦", "controls" : [ { "id" : "1", "key" : "6PYM4Z3cHtAenKN4uj13hEDGhyECQ8kfoxtyNiZhgsXoUXCqHS5KFCsQNg", "algorithm": "ECDSA", "parameters" : { "curve" : "secp256r1" } } ], "lock" : false }, { "ontid" : "did:ont:TA932ZWxJKAqTeuJBrByExV3ygbC8ErJYT","label" : "弄", "lock" : false, "controls" : [ { "id" : "1", "key" : "6PYNt3iqirKDSJCv8SSApgWWZr5X54iamxHDXc43cSDisMVueABQzS9EUf","algorithm" : "ECDSA", "parameters" : { "curve" : "secp256r1" } } ] }, { "ontid" : "did:ont:TGfY72Szb5pai3JTghtr19cfj1xc6YNCXe","label" : "魔", "lock" : false, "controls" : [ { "id" : "1", "key" : "6PYL9U4bJMgwxeinmvC5v3R9nC4EBKvLXm4XaWzAHHpCYtRzLf3sRo2vJ9","algorithm" : "ECDSA", "parameters" : { "curve" : "secp256r1" } } ] } ], "version" : "1.0", "name" : "哦哦哦", "createTime": "2018-04-09T05:26:47.599Z" }','哈哈哈','6PYNxt9sgMAmZovE6msjivFXn9Ex4MCnZXc3gqikiEFB1JzdAXSGuaLqHo','111111','importIdentityWithWallet')

// Ont.SDK.createAccount('test_wallet', '123456','callback')

// Ont.SDK.claimOng('TA8NVYM3DLbxDxxnjxWqN1eMpPR6K5G2fL','1','FsY74ZrW2SPapFQeeF94fwBPLjU8onou4qS//42QoyWJlAc0','111111','claimOng')
// Ont.SDK.getClaim('2e6e01fc5516810d76307001baed55031b85e168d000a00e180094004f102091','claim:employment_authentication','did:ont:TWsN8G8AphJxzgWYwHqvYqgntBf5DzBvEX','did:ont:TCieRYR3o3HEpn71jPXxaBFtX3CKo7HnPP','6PYK2UT5fHneikJ5YobWQKDBXYvM4pZw8EsWF9iewZdY5v3UpfQ6wFZuGc','111111','getClaim')
// Ont.SDK.getClaim('221100115516832d78307d0ebaed55332b88e163d671a30e18df9f97cfe21222', 'claim:employment_authentication', 'did:ont:TWsN8G8AphJxzgWYwHqvYqgntBf5DzBvEX',
// 'did:ont:TEfm7fe6CWhFMimwsqKWtw7rHMXVWFYh48', '6PYWynpEenTZbHUVM1hEkbPK5RBPyE2jEgJj6Aou7N3iAzqnxc5L1qW8zU', '123123', 'TAGCLAIM')

// Ont.SDK.getClaim('221100fc5516832d78307d0ebaed55332b88e163d671a30e18df9f97cfe11112', 'claim:employment_authentication', 'did:ont:TWsN8G8AphJxzgWYwHqvYqgntBf5DzBvEX',
// 'did:ont:TKeQkdNnYTWkFPtMKSKidFPEFh78EdbVPv', '6PYVP3KY12DAxYhmjrhsVfXWmmzjDBBv4weRz3JX6jGVm1RaaknrUg4QX8', '123123', 
// 'TAGCLAIM')

    //    var walletStr = result.result
    //    console.log(walletStr)

//  var claimId = 'b5a87bea92d52525b6eba3b670595cf8b9cbb51e972f5cbff499d48677ddee8a',
//  context = 'claim:staff_authentication7',
//  issuer = 'did:ont:TVuF6FH1PskzWJAFhWAFg17NSitMDEBNoa',
//  subject = "did:ont:TAFY1bhLDkhZpkNGhS5fGuBY5GLTMAbVXN",
//  encryptedPrivateKey = '6PYVyR3fZz653vhyBLi3quTkdJRa1e6hozxZV1yy92fj3QCux6bKbXhXXy',
//             password = '123456',
//             callback = 'callback'

//        Ont.SDK.getClaim(claimId, context, issuer, subject, encryptedPrivateKey, password, callback)
       


//             var path = 'piTYU65A69If9EoYYMBJoRUniiLqM4q6vVha0N8Xh90xrmZ4ymuYyULnqn1FiQRk7pEUGJ/WX0miF4IwgP7S2A==',
//             value = '{"Context":"claim:linkedin_authentication","Ontid":"did:ont:TRaj1hCwaQ53bdRTPcZxYiPAZ6Ma7jcQVK"}',
//             ontid = 'did:ont:TRaj1hCwaQ53bdRTPcZxYiPAZ6Ma7jcQVK',
// //  encryptedPrivateKey = '6PYNS94c5FBv3oBnnPKSGBqfR8QbGXRhtBqsLTRj1JeBuTBibnD1mkEESR',
// encryptedPrivateKey = '6PYQnkNAcgM5ea@#￥XG3RU9261R119aYYwSKVg9cxnPgEuCn2ztKuR1Y1wysY',
//             password = '123456',
//  walletStr = '{"name":"wang1","defaultOntid":"did:ont:TUREKZZqnsDycjVXdNNDLVH3WctYLUf7Wr","createTime":"2018-03-14T03:08:45.603Z","version":"1.0","scrypt":{"n":16384,"r":8,"p":8},"identities":[{"controls":[{"algorithm":"ECDSA","parameters":{"curve":"secp256r1"},"id":"1","key":"6PYNS94c5FBv3oBnnPKSGBqfR8QbGXRhtBqsLTRj1JeBuTBibnD1mkEESR"}],"ontid":"did:ont:TUREKZZqnsDycjVXdNNDLVH3WctYLUf7Wr","label":"wang1","isDefault":false,"lock":false}],"accounts":[],"extra":null}'
// var wallet2 = Ont.SDK.importIdentityWithWallet(walletStr, '', encryptedPrivateKey, password, 'callback')
// console.log('wallet2 ' + wallet2.result)

//  var encryptedKey = '6PYQnkNAcgM5ea@#￥XG3RU9261R119aYYwSKVg9cxnPgEuCn2ztKuR1Y1wysY'
// // var encryptedKey = '6PYLMCue7mtKNBHv1ZnRSvwqqbLdCbjbJEghG7GEk7hv9rc9tRrBuEypXx'
 
//  var result = Ont.SDK.decryptEncryptedPrivateKey(encryptedKey, '123123')
//  console.log('res: '+JSON.stringify(result))

    //     var wallet = JSON.parse(walletStr)
    //    var identity = wallet.identities[0],
    //         encryptedPrivateKey = identity.controls[0].key,
    //         password = '123456'
            // Ont.SDK.importIdentity('',encryptedPrivateKey, password, 'callback') 


    //     // var identity = Ont.SDK.ide
    //    var r = Ont.SDK.buildClaimTx(path, value, ontid , encryptedPrivateKey ,
    //         password )
    //         console.log('claim param: '+JSON.stringify(r))

//transfer and getBalance    
// var encrypt = Ont.scrypt.encrypt('9a31d585431ce0aa0aab1f0a432142e98a92afccb7bcbcaff53f758df82acdb3', '123123')
// console.log('encrypt: '+encrypt)
// Ont.SDK.transferAssets('ONT', 'TA7iK3t58JWorEnaLAqUEfqtYY3vphn3i0', 'TA5r6YJS6KHmEW6tAzwF6jxiNsGfbP82cs', '200',
// '6PYMev6pcAMqWb5WZqSKcJRx1K3TPrtPeMrv7KLxE5YXgqrQrnZor2vBPR',
// '123123', 'AssetSend')

// var encrypt = Ont.scrypt.encrypt('6248eefef096ec2eebdff7179a59cc36b5c632720e40fb7e9770dc11024543be', '111111')
// console.log('encrypt: '+encrypt)
// Ont.SDK.transferAssets('ONT', 'TA98LCZuzins3mUPfDyNRirpQ4YoeRNBan', 'TA5r6YJS6KHmEW6tAzwF6jxiNsGfbP82cs', '200',
// encrypt,
// '111111', 'AssetSend')

    // Ont.SDK.transferAssets('ONT', 'TA7iK3t58JWorEnaLAqUEfqtYY3vphn3im', 'TA7x4iTzhn6hyGeC5bVndHSGTgeZRrnUTi', '100',
    //  '6PYMev6pcAMqWb5WZqSKcJRx1K3TPrtPeMrv7KLxE5YXgqrQrnZor2vBPR', '123123', 'AssetSend')

// setTimeout(function(){
//   Ont.SDK.getBalance('TA7iK3t58JWorEnaLAqUEfqtYY3vphn3im', '', 'callback')
//   Ont.SDK.getBalance('TA5r6YJS6KHmEW6tAzwF6jxiNsGfbP82cs', 'callback')

// }, 8000)



    </script>
    
</body>
</html>